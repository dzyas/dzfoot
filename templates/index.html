{% extends "base.html" %}

{% block title %}أهلاً بك في ياسمين AI{% endblock %}

{% block styles %}
<style>
    .entry-container {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: calc(100vh - 200px); /* Adjust based on header/footer height */
        padding: 20px;
    }

    .entry-card {
        background-color: var(--card-color);
        border-radius: 12px;
        padding: 40px;
        box-shadow: var(--shadow-lg);
        text-align: center;
        max-width: 600px;
        width: 100%;
    }

    .entry-card h1 {
        font-size: 2rem;
        color: var(--primary-color);
        margin-bottom: 15px;
    }

    .entry-card p {
        color: var(--text-light);
        margin-bottom: 30px;
    }

    .form-group {
        margin-bottom: 20px;
    }

    .form-label {
        display: block;
        margin-bottom: 8px;
        font-weight: 500;
        color: var(--text-color);
        text-align: right;
    }

    .form-control {
        width: 100%;
        padding: 12px 15px;
        border: 1px solid var(--border-color);
        border-radius: 8px;
        font-family: var(--font-family);
        font-size: 1rem;
        transition: border-color 0.3s;
        background-color: var(--input-bg);
        color: var(--text-color);
        box-sizing: border-box; /* Include padding in width */
    }

    .form-control:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 2px rgba(67, 97, 238, 0.2);
    }

    .entry-button {
        width: 100%;
        padding: 12px;
        font-size: 1.1rem;
        font-weight: 600;
    }
    
    .logo-container {
        width: 80px;
        height: 80px;
        margin: 0 auto 20px;
        background: linear-gradient(135deg, #daa987, #c78e5e);
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        color: white;
        font-size: 40px;
    }
    
    /* AI Assistants Showcase */
    .ai-assistants-showcase {
        margin: 30px 0;
        padding: 15px;
        background: linear-gradient(135deg, rgba(240, 215, 185, 0.3), rgba(218, 169, 135, 0.3));
        border-radius: 12px;
    }
    
    .ai-assistants-title {
        font-size: 1.2rem;
        color: var(--primary-color);
        margin-bottom: 15px;
        text-align: center;
    }
    
    .ai-models-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
        gap: 15px;
        justify-content: center;
    }
    
    .ai-model-card {
        background-color: var(--card-color);
        border-radius: 8px;
        padding: 12px;
        text-align: center;
        box-shadow: var(--shadow-sm);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .ai-model-card:hover {
        transform: translateY(-5px);
        box-shadow: var(--shadow-md);
    }
    
    .ai-model-logo {
        width: 40px;
        height: 40px;
        margin: 0 auto 10px;
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: 8px;
        font-size: 20px;
    }
    
    .ai-model-name {
        font-size: 0.9rem;
        font-weight: 600;
        margin-bottom: 5px;
    }
    
    .ai-model-desc {
        font-size: 0.75rem;
        color: var(--text-light);
    }
    
    .gpt-logo {
        background: linear-gradient(135deg, #10a37f, #0a8263);
        color: white;
    }
    
    .claude-logo {
        background: linear-gradient(135deg, #9a48d0, #7a3aa4);
        color: white;
    }
    
    .gemini-logo {
        background: linear-gradient(135deg, #4285f4, #0f9d58);
        color: white;
    }
    
    .elevenlabs-logo {
        background: linear-gradient(135deg, #ff5757, #c43a3a);
        color: white;
    }
    
    .openrouter-logo {
        background: linear-gradient(135deg, #ff9e00, #d9840c);
        color: white;
    }
    
    body.dark-mode .ai-assistants-showcase {
        background: linear-gradient(135deg, rgba(42, 42, 42, 0.5), rgba(58, 58, 58, 0.5));
    }
</style>
{% endblock %}

{% block content %}
<div class="entry-container">
    <div class="entry-card">
        <div class="logo-container">
            <i class="fas fa-robot"></i>
        </div>
        <h1>أهلاً بك!</h1>
        <p>للدخول إلى ياسمين AI، يرجى كتابة اسمك:</p>

        <div class="form-group">
            <label for="user-name-input" class="form-label">اسم المستخدم</label>
            <input type="text" id="user-name-input" class="form-control" placeholder="أدخل اسمك هنا">
        </div>

        <button id="enter-app-button" class="btn btn-primary entry-button">الدخول إلى التطبيق</button>
        
        <!-- AI Assistants Showcase -->
        <div class="ai-assistants-showcase">
            <div class="ai-assistants-title">اكتشف قوة الذكاء الاصطناعي المتكامل</div>
            <div class="ai-models-grid">
                <div class="ai-model-card">
                    <div class="ai-model-logo gpt-logo">
                        <i class="fas fa-brain"></i>
                    </div>
                    <div class="ai-model-name">GPT-4o</div>
                    <div class="ai-model-desc">معالجة متقدمة للغة الطبيعية</div>
                </div>
                
                <div class="ai-model-card">
                    <div class="ai-model-logo claude-logo">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="ai-model-name">Claude 3.5</div>
                    <div class="ai-model-desc">تفكير متعمق وتحليل شامل</div>
                </div>
                
                <div class="ai-model-card">
                    <div class="ai-model-logo gemini-logo">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <div class="ai-model-name">Gemini 1.5</div>
                    <div class="ai-model-desc">فهم متعدد الوسائط</div>
                </div>
                
                <div class="ai-model-card">
                    <div class="ai-model-logo elevenlabs-logo">
                        <i class="fas fa-volume-up"></i>
                    </div>
                    <div class="ai-model-name">ElevenLabs</div>
                    <div class="ai-model-desc">تحويل نص لصوت طبيعي</div>
                </div>
                
                <div class="ai-model-card">
                    <div class="ai-model-logo openrouter-logo">
                        <i class="fas fa-random"></i>
                    </div>
                    <div class="ai-model-name">OpenRouter</div>
                    <div class="ai-model-desc">توجيه ذكي للنماذج المختلفة</div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="toast-container"></div>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const nameInput = document.getElementById('user-name-input');
        const enterButton = document.getElementById('enter-app-button');

        function enterApp() {
            const userName = nameInput.value.trim();
            if (userName) {
                // Store the name in sessionStorage
                sessionStorage.setItem('yasmin_user_name', userName);

                // Redirect to the features hub page
                window.location.href = "{{ url_for('features_hub') }}";
            } else {
                // Use global showToast if available, fallback to alert
                if (window.showToast) {
                     window.showToast('يرجى إدخال اسم للدخول', 'error');
                } else {
                    alert('يرجى إدخال اسم للدخول');
                }
                nameInput.focus(); // Focus the input field
            }
        }

        enterButton.addEventListener('click', enterApp);

        nameInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                enterApp();
            }
        });

        // Check if a name already exists in sessionStorage on load
        // If so, redirect immediately to features hub
        const storedName = sessionStorage.getItem('yasmin_user_name');
        if (storedName) {
             window.location.href = "{{ url_for('features_hub') }}";
        } else {
            // If no name stored, focus the input field
             nameInput.focus();
        }
    });
    
    // Function to show toast notifications
    function showToast(message, type = 'info') {
        const toastContainer = document.getElementById('toast-container');
        const toast = document.createElement('div');
        toast.className = `toast toast-${type}`;
        toast.innerHTML = message;
        
        toastContainer.appendChild(toast);
        
        // Add visible class for animation
        setTimeout(() => {
            toast.classList.add('visible');
        }, 10);
        
        // Remove toast after duration
        setTimeout(() => {
            toast.classList.remove('visible');
            setTimeout(() => {
                toast.remove();
            }, 300);
        }, 3000);
    }
</script>
{% endblock %}